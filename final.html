<!DOCTYPE html>
<html lang="hi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>‡§Ö‡§ó‡•ç‡§®‡§ø ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞ - ‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡•ç‡§∞‡§™‡§§‡•ç‡§∞</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+Devanagari:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Noto Serif Devanagari", serif;
        background-color: #f8f1e9;
      }
      .section-header {
        border-left: 5px solid #e63946;
        padding-left: 1.2rem;
        color: #e63946;
        display: inline-block;
        background: rgba(230, 57, 70, 0.1);
        padding-top: 0.4rem;
        padding-bottom: 0.4rem;
        padding-right: 1rem;
        border-radius: 0.6rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .circle-radio {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 3px solid #e63946;
        color: #e63946;
        cursor: pointer;
        background: #fff;
        transition: all 0.3s ease;
      }
      .circle-radio.selected {
        background: #e63946;
        color: #fff;
        transform: scale(1.1);
        box-shadow: 0 0 8px rgba(230, 57, 70, 0.4);
      }
      .d-none {
        display: none !important;
      }
      /* Unique Header Styles */
      .navbar {
        background: linear-gradient(135deg, #e63946 0%, #a4161a 100%);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        animation: slideIn 0.5s ease;
      }
      @keyframes slideIn {
        from {
          transform: translateY(-100%);
        }
        to {
          transform: translateY(0);
        }
      }
      .navbar-brand-container {
        display: flex;
        align-items: center;
        gap: 1.2rem;
      }
      .navbar-brand-icon {
        font-size: 3rem;
        color: #ffd60a;
        animation: pulse 2s infinite;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
        }
      }
      .navbar-brand-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: #fff;
        margin-bottom: 0.3rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }
      .navbar-brand-subtitle {
        font-size: 1rem;
        color: #ffd60a;
        opacity: 0.9;
      }
      .navbar .btn-group .btn {
        border-radius: 0.3rem;
        font-weight: 600;
        transition: all 0.3s ease;
        padding: 0.5rem 1.2rem;
      }
      .navbar .btn-group .btn.active {
        background-color: #ffd60a;
        color: #a4161a;
        border-color: #ffd60a;
      }
      .navbar .btn-group .btn:hover {
        background-color: #ffd60a;
        color: #a4161a;
      }
      .navbar .btn-outline-danger {
        border-color: #ffd60a;
        color: #ffd60a;
        transition: all 0.3s ease;
      }
      .navbar .btn-outline-danger:hover {
        background-color: #ffd60a;
        color: #a4161a;
        border-color: #ffd60a;
      }
      /* Unique Footer Styles */
      .footer {
        background: linear-gradient(180deg, #2b2d42 0%, #1d1e2c 100%);
        color: #fff;
        padding: 3rem 0;
        position: relative;
        overflow: hidden;
      }
      .footer::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="rgba(255, 214, 10, 0.1)" d="M50 10C40 0 30 10 20 20S0 40 10 50s30 20 40 10 0-20-10-30z"/></svg>')
          repeat;
        opacity: 0.2;
      }
      .footer-content {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      .footer-logo {
        display: flex;
        align-items: center;
        gap: 0.8rem;
      }
      .footer-logo-icon {
        font-size: 2.5rem;
        color: #ffd60a;
        animation: flicker 3s infinite;
      }
      @keyframes flicker {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }
      .footer-logo-text {
        font-size: 1.4rem;
        font-weight: 700;
        color: #fff;
      }
      .footer-links {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      .footer-links a {
        color: #ffd60a;
        text-decoration: none;
        font-size: 1rem;
        transition: color 0.3s ease, transform 0.3s ease;
      }
      .footer-links a:hover {
        color: #fff;
        transform: translateX(5px);
      }
      .footer-social {
        display: flex;
        gap: 1rem;
      }
      .footer-social a {
        color: #ffd60a;
        font-size: 1.5rem;
        transition: color 0.3s ease, transform 0.3s ease;
      }
      .footer-social a:hover {
        color: #fff;
        transform: scale(1.2);
      }
      .footer-copyright {
        grid-column: 1 / -1;
        text-align: center;
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.7);
        margin-top: 1.5rem;
        border-top: 1px solid rgba(255, 214, 10, 0.2);
        padding-top: 1rem;
      }
      @media (max-width: 768px) {
        .navbar-brand-title {
          font-size: 1.4rem;
        }
        .navbar-brand-subtitle {
          font-size: 0.85rem;
        }
        .navbar-brand-icon {
          font-size: 2rem;
        }
        .footer-content {
          grid-template-columns: 1fr;
          text-align: center;
        }
        .footer-social {
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <!-- Unique Header -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container px-4">
        <div class="navbar-brand-container">
          <span class="navbar-brand-icon">üî•</span>
          <div>
            <h6 data-lang="header-title" class="navbar-brand-title">
              ‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§Ö‡§ó‡•ç‡§®‡§ø ‡§è‡§µ‡§Ç ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡•á‡§µ‡§æ‡§è‡§Å
            </h6>
            <p data-lang="header-subtitle" class="navbar-brand-subtitle">
              ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§è‡§®‡§ì‡§∏‡•Ä ‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤
            </p>
          </div>
        </div>
        <div class="d-flex align-items-center gap-3">
          <span data-lang="helpline" class="text-white-50">
            ‡§π‡•á‡§≤‡•ç‡§™‡§≤‡§æ‡§á‡§®: 1800-XXX-XXXX
          </span>
          <div class="btn-group lang-toggle" role="group">
            <button
              id="lang-en"
              type="button"
              class="btn btn-light text-danger active"
            >
              English
            </button>
            <button id="lang-hi" type="button" class="btn btn-outline-light">
              ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä
            </button>
          </div>
          <button
            id="printBtn"
            type="button"
            class="btn btn-outline-danger no-print"
            data-lang="print"
          >
            ‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü
          </button>
        </div>
      </div>
    </nav>

    <main class="container px-4 py-5">
      <!-- Step 1 -->
      <div id="step1" class="card p-4 mb-4">
        <h2 class="fs-5 fw-bold section-header mb-3">
          ‡§Ö‡§®‡§æ‡§™‡§§‡•ç‡§§‡§ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞ ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞
        </h2>
        <div class="row g-3 mt-1">
          <div class="col-md-12">
            <label class="form-label">‡§Ö‡§®‡§æ‡§™‡§§‡•ç‡§§‡§ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞ ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞</label>
            <select id="nocType" class="form-select">
              <option value="">‡§ö‡•Å‡§®‡•á‡§Ç</option>
              <option value="anantim">‡§Ö‡§®‡§Ç‡§§‡§ø‡§Æ</option>
              <option value="antim">‡§Ö‡§Ç‡§§‡§ø‡§Æ</option>
              <option value="naveenikaran">‡§®‡§µ‡•Ä‡§®‡•Ä‡§ï‡§∞‡§£</option>
            </select>
          </div>
        </div>

        <!-- Qualified Agency (conditional) -->
        <div id="agencySection" class="mt-4 d-none">
          <h3 class="fs-6 fw-bold section-header mb-3">Qualified Agency</h3>
          <div class="row g-3">
            <div class="col-md-4">
              <label class="form-label">‡§è‡§ú‡•á‡§Ç‡§∏‡•Ä ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
              <input
                type="text"
                id="agencyName"
                class="form-control"
                placeholder="‡§è‡§ú‡•á‡§Ç‡§∏‡•Ä ‡§ï‡§æ ‡§®‡§æ‡§Æ"
              />
            </div>
            <div class="col-md-4">
              <label class="form-label">‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§®‡§Ç‡§¨‡§∞</label>
              <input
                type="tel"
                id="agencyContact"
                class="form-control"
                placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞"
              />
            </div>
            <div class="col-md-4">
              <label class="form-label">‡§Ø‡•Ç‡§Ü‡§à‡§°‡•Ä ‡§®‡§Ç‡§¨‡§∞</label>
              <div class="input-group">
                <input
                  type="text"
                  id="agencyUid"
                  class="form-control"
                  placeholder="UID Number"
                />
                <button
                  class="btn btn-outline-secondary"
                  type="button"
                  id="sendOtpBtn"
                >
                  OTP ‡§≠‡•á‡§ú‡•á‡§Ç
                </button>
              </div>
            </div>
            <div class="col-md-6">
              <label class="form-label">OTP ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§®</label>
              <div class="input-group">
                <input
                  type="text"
                  id="otpInput"
                  class="form-control"
                  placeholder="OTP ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç"
                />
                <button class="btn btn-success" type="button" id="verifyOtpBtn">
                  OTP Verify
                </button>
              </div>
              <div id="otpStatus" class="form-text"></div>
            </div>
          </div>
        </div>

        <div class="mt-4">
          <button id="goToStep2" type="button" class="btn btn-danger" disabled>
            ‡§Ö‡§ó‡§≤‡§æ ‡§ö‡§∞‡§£
          </button>
        </div>
      </div>

      <!-- Step 2 -->
      <div id="step2" class="d-none">
        <!-- Back button toolbar -->
        <div class="d-flex justify-content-between align-items-center mb-3">
          <button
            id="backToStep1"
            type="button"
            class="btn btn-outline-secondary"
          >
            ‡§™‡§ø‡§õ‡§≤‡§æ ‡§ö‡§∞‡§£
          </button>
        </div>
        <!-- Applicant Details (Owner / Authorized) -->
        <div class="card p-4 mb-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="fs-5 fw-bold section-header mb-0">
              ‡§≠‡§µ‡§® ‡§∏‡•ç‡§µ‡§æ‡§Æ‡•Ä ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£
            </h2>
            <p class="text-secondary small mb-0">‡§ï‡•å‡§® ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à ‡§ö‡•Å‡§®‡•á‡§Ç</p>
          </div>
          <div class="d-flex gap-4">
            <div class="d-flex align-items-center gap-3">
              <div
                id="ownerToggle"
                class="circle-radio selected"
                onclick="selectApplicant('owner')"
              >
                üë§
              </div>
              <div>
                <label class="form-label fw-medium mb-0">‡§Æ‡§æ‡§≤‡§ø‡§ï</label>
                <p class="text-muted small mb-0">‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≠‡§∞‡•á‡§Ç</p>
              </div>
            </div>
            <div class="d-flex align-items-center gap-3">
              <div
                id="authToggle"
                class="circle-radio"
                onclick="selectApplicant('auth')"
              >
                ‚úÖ
              </div>
              <div>
                <label class="form-label fw-medium mb-0">‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø</label>
                <p class="text-muted small mb-0">
                  ‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≠‡§∞‡•á‡§Ç
                </p>
              </div>
            </div>
          </div>

          <!-- Owner form -->
          <div id="ownerForm" class="mt-4">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
                <input
                  type="text"
                  id="ownerName"
                  class="form-control"
                  placeholder="‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§ï‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§®‡§Ç‡§¨‡§∞</label>
                <input
                  type="tel"
                  id="ownerContact"
                  class="form-control"
                  placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">‡§à‡§Æ‡•á‡§≤</label>
                <input
                  type="email"
                  id="ownerEmail"
                  class="form-control"
                  placeholder="email@example.com"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">‡§™‡§§‡§æ</label>
                <input
                  type="text"
                  id="ownerAddress"
                  class="form-control"
                  placeholder="‡§™‡§§‡§æ"
                />
              </div>
            </div>
          </div>

          <!-- Authorized form -->
          <div id="authForm" class="mt-4 d-none">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ï‡§æ ‡§®‡§æ‡§Æ</label>
                <input
                  type="text"
                  id="authName"
                  class="form-control"
                  placeholder="‡§Ö‡§ß‡§ø‡§ï‡•É‡§§ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§ï‡§æ ‡§®‡§æ‡§Æ"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§®‡§Ç‡§¨‡§∞</label>
                <input
                  type="tel"
                  id="authContact"
                  class="form-control"
                  placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">‡§™‡•ç‡§∞‡§æ‡§ß‡§ø‡§ï‡§∞‡§£ ‡§¶‡§∏‡•ç‡§§‡§æ‡§µ‡•á‡§ú</label>
                <input type="file" id="authDoc" class="form-control" />
              </div>
              <div class="col-md-6">
                <label class="form-label">‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß</label>
                <input
                  type="text"
                  id="authRelation"
                  class="form-control"
                  placeholder="‡§â‡§¶‡§æ: ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ï / ‡§™‡•ç‡§∞‡§§‡§ø‡§®‡§ø‡§ß‡§ø"
                />
              </div>
            </div>
          </div>
        </div>

        <!-- Building Address -->
        <div class="card p-4 mb-4">
          <h2 class="fs-5 fw-bold section-header">‡§≠‡§µ‡§® ‡§ï‡§æ ‡§™‡§§‡§æ</h2>
          <div class="row g-3 mt-3">
            <div class="col-md-4">
              <label class="form-label">‡§ú‡§ø‡§≤‡§æ</label>
              <select
                id="district"
                class="form-select"
                onchange="onDistrictChange()"
              >
                <option value="">‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç</option>
                <option value="Lucknow">‡§≤‡§ñ‡§®‡§ä</option>
                <option value="Kanpur">‡§ï‡§æ‡§®‡§™‡•Å‡§∞</option>
              </select>
            </div>
            <div class="col-md-4">
              <label class="form-label">‡§§‡§π‡§∏‡•Ä‡§≤</label>
              <select id="tehsil" class="form-select">
                <option value="">‡§§‡§π‡§∏‡•Ä‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç</option>
              </select>
            </div>
            <div class="col-md-4">
              <label class="form-label">‡§¨‡•ç‡§≤‡•â‡§ï</label>
              <select id="blockSelect" class="form-select">
                <option value="">‡§¨‡•ç‡§≤‡•â‡§ï ‡§ö‡•Å‡§®‡•á‡§Ç</option>
              </select>
            </div>
            <div class="col-md-4">
              <label class="form-label">‡§™‡•Å‡§≤‡§ø‡§∏ ‡§∏‡•ç‡§ü‡•á‡§∂‡§®</label>
              <select id="police" class="form-select">
                <option value="">‡§™‡•Å‡§≤‡§ø‡§∏ ‡§∏‡•ç‡§ü‡•á‡§∂‡§® ‡§ö‡•Å‡§®‡•á‡§Ç</option>
              </select>
            </div>
            <div class="col-md-4">
              <label class="form-label">‡§ó‡§≤‡•Ä / ‡§≤‡•à‡§Ç‡§°‡§Æ‡§æ‡§∞‡•ç‡§ï</label>
              <input
                type="text"
                id="street"
                class="form-control"
                placeholder="‡§ó‡§≤‡•Ä ‡§Ø‡§æ ‡§≤‡•à‡§Ç‡§°‡§Æ‡§æ‡§∞‡•ç‡§ï"
              />
            </div>
            <div class="col-md-4">
              <label class="form-label">‡§™‡§ø‡§® ‡§ï‡•ã‡§°</label>
              <input
                type="text"
                id="pincode"
                class="form-control"
                placeholder="‡§™‡§ø‡§® ‡§ï‡•ã‡§°"
              />
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Unique Footer -->
    <footer class="footer">
      <div class="container footer-content">
        <div class="footer-logo">
          <span class="footer-logo-icon">üî•</span>
          <span class="footer-logo-text">
            ‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§Ö‡§ó‡•ç‡§®‡§ø ‡§è‡§µ‡§Ç ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡•á‡§µ‡§æ‡§è‡§Å
          </span>
        </div>
        <div class="footer-links">
          <a href="#" data-lang="footer-links-contact">‡§π‡§Æ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç</a>
          <a href="#" data-lang="footer-links-privacy">‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§®‡•Ä‡§§‡§ø</a>
          <a href="#" data-lang="footer-links-terms">‡§∏‡•á‡§µ‡§æ ‡§ï‡•Ä ‡§∂‡§∞‡•ç‡§§‡•á‡§Ç</a>
        </div>
        <div class="footer-social">
          <a href="#" title="Twitter">ùïè</a>
          <a href="#" title="Facebook">üìò</a>
          <a href="#" title="Email">üìß</a>
        </div>
        <div class="footer-copyright" data-lang="footer">
          ¬© 2025 ‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§Ö‡§ó‡•ç‡§®‡§ø ‡§è‡§µ‡§Ç ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡•á‡§µ‡§æ‡§è‡§Å ‚Äî ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ¬∑
          ‡§Ü‡§Ç‡§§‡§∞‡§ø‡§ï ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡§ø‡§ú‡§º‡§æ‡§á‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ
        </div>
      </div>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script>
      // Simple sample data for dependent selects
      const districtData = {
        Lucknow: {
          tehsils: ["Lucknow Sadar", "Malihabad", "Bakshi Ka Talab", "Chinhat"],
          blocks: ["Gomti Nagar", "Aliganj", "Mahanagar", "Hazratganj"],
          policeStations: [
            "Hazratganj PS",
            "Gomti Nagar PS",
            "Sarojini Nagar PS",
          ],
        },
        Kanpur: {
          tehsils: ["Kanpur Sadar", "Ghatampur", "Bilhaur"],
          blocks: ["Swaroop Nagar", "Naramau", "Kalyanpur"],
          policeStations: ["Kanpur Sadar PS", "Kidwai Nagar PS", "Narwal PS"],
        },
      };

      const state = {
        otpSent: false,
        otpVerified: false,
      };

      const nocTypeEl = document.getElementById("nocType");
      const agencySection = document.getElementById("agencySection");
      const goToStep2Btn = document.getElementById("goToStep2");

      // Show agency only for 'antim' and 'naveenikaran'
      nocTypeEl.addEventListener("change", function () {
        const v = this.value;
        const requiresAgency = v === "antim" || v === "naveenikaran";
        agencySection.classList.toggle("d-none", !requiresAgency);
        if (!requiresAgency) {
          state.otpVerified = true;
          goToStep2Btn.disabled = v === "";
        } else {
          state.otpVerified = false;
          goToStep2Btn.disabled = true;
        }
      });

      document
        .getElementById("sendOtpBtn")
        .addEventListener("click", function () {
          const contact = document.getElementById("agencyContact").value.trim();
          if (!contact) {
            alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç");
            return;
          }
          state.otpSent = true;
          document.getElementById("otpStatus").textContent =
            "OTP ‡§≠‡•á‡§ú ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à";
        });

      document
        .getElementById("verifyOtpBtn")
        .addEventListener("click", function () {
          const otp = document.getElementById("otpInput").value.trim();
          if (!state.otpSent) {
            alert("‡§™‡§π‡§≤‡•á OTP ‡§≠‡•á‡§ú‡•á‡§Ç");
            return;
          }
          if (!otp) {
            alert("‡§ï‡•É‡§™‡§Ø‡§æ OTP ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç");
            return;
          }
          if (otp === "123456") {
            state.otpVerified = true;
            document.getElementById("otpStatus").textContent = "OTP ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§";
            goToStep2Btn.disabled = false;
          } else {
            state.otpVerified = false;
            document.getElementById("otpStatus").textContent = "‡§ó‡§≤‡§§ OTP";
            goToStep2Btn.disabled = true;
          }
        });

      goToStep2Btn.addEventListener("click", function () {
        if (!state.otpVerified) {
          alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•ã‡§®‡•á ‡§™‡§∞ OTP ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç");
          return;
        }
        document.getElementById("step1").classList.add("d-none");
        document.getElementById("step2").classList.remove("d-none");
      });

      // Back button
      document
        .getElementById("backToStep1")
        .addEventListener("click", function () {
          document.getElementById("step2").classList.add("d-none");
          document.getElementById("step1").classList.remove("d-none");
        });

      // Print button
      const printBtn = document.getElementById("printBtn");
      if (printBtn) {
        printBtn.addEventListener("click", () => window.print());
      }

      // Applicant type toggle
      function clearSectionInputs(sectionElement) {
        if (!sectionElement) return;
        const fields = sectionElement.querySelectorAll(
          "input, select, textarea"
        );
        fields.forEach((el) => {
          if (el.type === "file") el.value = "";
          else if (el.type === "checkbox" || el.type === "radio")
            el.checked = false;
          else if (el.tagName === "SELECT") el.selectedIndex = 0;
          else el.value = "";
        });
      }

      function selectApplicant(type) {
        const ownerToggle = document.getElementById("ownerToggle");
        const authToggle = document.getElementById("authToggle");
        const ownerForm = document.getElementById("ownerForm");
        const authForm = document.getElementById("authForm");

        if (type === "owner") {
          ownerToggle.classList.add("selected");
          authToggle.classList.remove("selected");
          ownerForm.classList.remove("d-none");
          authForm.classList.add("d-none");
          clearSectionInputs(authForm);
        } else {
          authToggle.classList.add("selected");
          ownerToggle.classList.remove("selected");
          authForm.classList.remove("d-none");
          ownerForm.classList.add("d-none");
          clearSectionInputs(ownerForm);
        }
      }
      window.selectApplicant = selectApplicant;

      // District dependent selects
      function onDistrictChange() {
        const district = document.getElementById("district").value;
        const tehsil = document.getElementById("tehsil");
        const blockSelect = document.getElementById("blockSelect");
        const police = document.getElementById("police");

        tehsil.innerHTML = '<option value="">‡§§‡§π‡§∏‡•Ä‡§≤ ‡§ö‡•Å‡§®‡•á‡§Ç</option>';
        blockSelect.innerHTML = '<option value="">‡§¨‡•ç‡§≤‡•â‡§ï ‡§ö‡•Å‡§®‡•á‡§Ç</option>';
        police.innerHTML = '<option value="">‡§™‡•Å‡§≤‡§ø‡§∏ ‡§∏‡•ç‡§ü‡•á‡§∂‡§® ‡§ö‡•Å‡§®‡•á‡§Ç</option>';

        if (!district || !districtData[district]) return;

        districtData[district].tehsils.forEach((t) => {
          tehsil.innerHTML += `<option value="${t}">${t}</option>`;
        });
        districtData[district].blocks.forEach((b) => {
          blockSelect.innerHTML += `<option value="${b}">${b}</option>`;
        });
        districtData[district].policeStations.forEach((p) => {
          police.innerHTML += `<option value="${p}">${p}</option>`;
        });
      }
      window.onDistrictChange = onDistrictChange;
    </script>
  </body>
</html>
